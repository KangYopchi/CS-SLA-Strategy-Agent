# CS-SLA-Strategy-Agent

CS 센터의 실시간 실적과 인입량을 바탕으로 고객사의 기준에 부합하는 SLA 목표를 달성하기 위해 전략을 제안하는 AI Agent입니다.

## 📋 목차
- [문제 정의](#-문제-정의)
- [해결 방안](#-해결-방안)
- [주요 기능](#-주요-기능)
- [시뮬레이션 정확도에 대하여](#-시뮬레이션-정확도에-대하여)
- [기술 스택](#-기술-스택)
- [실행 방법](#-실행-방법)
- [향후 개선 계획](#-향후-개선-계획)

## 🔍 문제 정의

### 현장의 Pain Point
센터 운영의 전략을 잘 아는 **실장급 이상의 직군의 역량에 따라 SLA 결과의 폭이 크게 차이납니다**. 

### 비효율적인 업무 프로세스
매일 아침 출근하는 실장이 센터의 어제 현황을 보고하기 위해 **매번 RAW 데이터를 편집해서 엑셀로 직접 계산하는 것은 비효율적**입니다.

### 핵심 문제
- **속인화(屬人化):** 특정 인력의 역량에 의존하는 운영 구조
- **반복 작업:** 매일 동일한 데이터 가공 및 분석 반복
- **의사결정 지연:** 분석에 시간이 소요되어 신속한 전략 수립 어려움

## 💡 해결 방안

### 데이터 기반 전략 수립
과거의 전략과 최근 3개월~1년 간의 데이터를 활용하여 **AI가 전략을 제안**합니다.

### 전략 제안의 특징
- **강제성 없음:** 추천한 전략은 참고 자료로 활용
- **최적화 지향:** 데이터 기반으로 최적의 답안 도출
- **접근성 향상:** 역량이 부족하거나 부재일 경우에도 SV 직군들이 문제 없이 운영 지속

### 협업 프로세스
1. AI가 데이터 분석 후 전략 수립
2. **SLACK으로 전략 전파** (실시간 공유)
3. 현장 피드백 수집
4. 센터에 맞는 최적의 전략으로 지속 개선

## ✨ 주요 기능

### 1. 자동 데이터 분석
- 어제 일자 콜 데이터 자동 로드 (인입콜, 응답콜)
- SLA 등급 자동 계산 (S/A/B/C/D/DD 등급 체계)

### 2. 상황 기반 전략 제안
- 금일 시뮬레이션 상황 입력 (날씨, 인원, 특수 상황)
- AI가 목표 SLA 달성을 위한 구체적 전략 생성
- 긴급도(urgency) 자동 분류: low/medium/high/critical

### 3. 시뮬레이션 기능
- 인원 추가 시 예상 응답률 계산
- 예상 SLA 등급 산출
- 전략별 개선율 비교

## 📊 시뮬레이션 정확도에 대하여

### 현재 버전: MVP (Minimum Viable Product)
현재 시뮬레이션은 **전략 방향성 제시**에 초점을 맞춘 MVP 버전입니다.

### 현재 구현 방식
```python
# 간단한 선형 모델 사용
calls_per_staff = 50  # 1인당 평균 50콜/일 처리 가정
effective_capacity = additional_staff * 50 * 0.8  # 신규 인원 80% 효율
```

### 현재 한계
- ⚠️ 단순 선형 모델 사용 (실제 콜센터는 비선형 특성)
- ⚠️ 시간대별 변동성 미반영 (피크타임 vs 비피크타임)
- ⚠️ 상담사 숙련도 차이 미반영 (신입 vs 베테랑)
- ⚠️ AHT(평균 처리 시간) 변동성 미고려

### 왜 이렇게 했나?

#### 1. 빠른 의사결정 지원이 목표
실제 현장에서는 **"대략적인 방향"만으로도 충분한 경우가 많습니다**.
- 정확한 예측 < 신속한 전략 수립
- "인원 2명 추가하면 대략 5% 개선" → 이 정도 정보면 의사결정 가능

#### 2. 점진적 개선 전략
완벽한 시스템을 처음부터 만들기보다, **실제 사용하면서 개선**하는 접근 방식을 선택했습니다.
- Phase 1 (현재): 방향성 제시 + 자동화
- Phase 2 (실무 투입 후): 정확도 개선

#### 3. 현장 경험 기반 가정
4년 8개월의 CS 센터 운영 경험을 바탕으로 한 보수적 추정:
- 1인당 평균 50콜/일 (일반 인바운드 기준)
- 실제로는 30~70콜 범위로 변동
- 신규 투입 시 80% 효율 적용 (적응 기간 고려)

### 실무 투입 시 개선 방안

#### Phase 2: 정확도 향상
1. **Erlang C 공식 적용**
   - 대기열 이론 기반 정확도 향상
   - 대기 시간 예측 정밀화

2. **시간대별 가중치 적용**
   - 피크타임/비피크타임 분리 분석
   - 점심시간, 퇴근시간 등 특수 시간대 반영

3. **과거 데이터 학습**
   - 최근 3~6개월 실제 데이터 분석
   - 상담사별 실제 처리량 반영
   - 계절성, 요일별 패턴 학습

4. **AHT 동적 계산**
   - 콜 유형별 처리 시간 차이 반영
   - 복잡도에 따른 가중치 적용

#### Phase 3: 지능화
- A/B 테스트로 전략 효과 실측
- 강화학습 기반 전략 최적화
- 피드백 루프를 통한 자동 개선

### 정확도 vs 실용성 트레이드오프

| 구분 | 현재 (MVP) | Phase 2 | Phase 3 |
|------|-----------|---------|---------|
| **정확도** | 70~80% | 85~90% | 90~95% |
| **개발 시간** | 2주 | 1~2개월 | 3~6개월 |
| **실용성** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ |
| **유지보수** | 쉬움 | 보통 | 어려움 |

**현재 전략:** "70~80% 정확도로 빠르게 도입 → 실 데이터로 개선"

## 🛠 기술 스택

### Core
- **Python 3.11+**
- **LangGraph**: AI Agent 워크플로우 관리
- **LangChain**: LLM 통합 및 프롬프트 엔지니어링
- **Pydantic**: 데이터 검증 및 타입 안전성

### AI/LLM
- **OpenAI GPT-4o/GPT-5-mini**: 전략 생성 및 추론
- **Structured Output**: 일관된 응답 형식 보장

### Data Processing
- **Pandas**: CSV 데이터 분석
- **Python-dotenv**: 환경 변수 관리

## 🚀 실행 방법

### 1. 환경 설정
```bash
# 가상환경 생성 및 활성화
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# 패키지 설치
pip install langchain langgraph langchain-openai pandas python-dotenv pydantic
```

### 2. API 키 설정
`.env` 파일 생성:
```
OPENAI_API_KEY=sk-your-api-key-here
```

### 3. 데이터 준비
`data/yesterday_calls.csv` 파일 준비 (필수 컬럼: 인입콜, 응답콜)

### 4. 실행
```bash
python agent_spike.py
```

### 5. 사용자 정의 실행
```python
from agent_spike import run_agent

result = run_agent(
    csv_path="data/custom_data.csv",
    sla_goal="S",
    simulation="오늘 태풍 예보로 인한 긴급 상황..."
)

print(result["report"])
```

## 📈 향후 개선 계획

### Short-term (1~2개월)
- [ ] Streamlit UI 구축 (웹 기반 대시보드)
- [ ] 시뮬레이션 정확도 개선 (Erlang C 적용)
- [ ] 다중 시나리오 비교 기능
- [ ] SLACK 연동 (자동 전략 전파)

### Mid-term (3~6개월)
- [ ] 과거 데이터 학습 모듈
- [ ] 실시간 모니터링 대시보드
- [ ] A/B 테스트 프레임워크
- [ ] 비용 vs ROI 계산 고도화

### Long-term (6개월+)
- [ ] 강화학습 기반 전략 최적화
- [ ] 멀티 센터 동시 관리
- [ ] 예측 모델 고도화 (LSTM, Transformer)
- [ ] 자동 피드백 학습 시스템

## 👤 작성자

**KangYopchi**
- 4년 8개월 CS 센터 운영 경력
- AI Developer 전환 (6개월 부트캠프 수료)
- "현장 문제를 AI로 해결하는 개발자"

## 📝 라이센스

이 프로젝트는 포트폴리오 목적으로 작성되었습니다.

---

## 💬 프로젝트 철학

> "완벽한 예측보다 빠른 실행이 더 중요하다"

이 프로젝트는 **"실무에서 실제로 쓸 수 있는가?"**를 최우선 가치로 삼았습니다.

- ✅ 80% 정확도로 내일 당장 쓸 수 있는 시스템
- ❌ 95% 정확도지만 3개월 뒤에나 완성되는 시스템

**현장은 기다려주지 않습니다.** 빠르게 도입하고, 실제 데이터로 개선하는 것이 더 효과적입니다.
